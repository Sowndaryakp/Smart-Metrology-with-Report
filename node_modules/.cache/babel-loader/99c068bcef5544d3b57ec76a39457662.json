{"remainingRequest":"C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI- Running Projects\\PiWeb Running\\PiWeb-CMTI-Pdf trying\\1stApril\\Trying\\PiWeb-CMTI (2)\\PiWeb-CMTI\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI- Running Projects\\PiWeb Running\\PiWeb-CMTI-Pdf trying\\1stApril\\Trying\\PiWeb-CMTI (2)\\PiWeb-CMTI\\node_modules\\dxf-viewer\\src\\parser\\DxfParser.js","dependencies":[{"path":"C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI- Running Projects\\PiWeb Running\\PiWeb-CMTI-Pdf trying\\1stApril\\Trying\\PiWeb-CMTI (2)\\PiWeb-CMTI\\node_modules\\dxf-viewer\\src\\parser\\DxfParser.js","mtime":1704432456000},{"path":"C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI- Running Projects\\PiWeb Running\\PiWeb-CMTI-Pdf trying\\1stApril\\Trying\\PiWeb-CMTI (2)\\PiWeb-CMTI\\babel.config.js","mtime":1694764762000},{"path":"C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI- Running Projects\\PiWeb Running\\PiWeb-CMTI-Pdf trying\\1stApril\\Trying\\PiWeb-CMTI (2)\\PiWeb-CMTI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1704432454000},{"path":"C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI- Running Projects\\PiWeb Running\\PiWeb-CMTI-Pdf trying\\1stApril\\Trying\\PiWeb-CMTI (2)\\PiWeb-CMTI\\node_modules\\babel-loader\\lib\\index.js","mtime":1704432454000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IER4ZkFycmF5U2Nhbm5lciBmcm9tICcuL0R4ZkFycmF5U2Nhbm5lcic7CmltcG9ydCBBVVRPX0NBRF9DT0xPUl9JTkRFWCBmcm9tICcuL0F1dG9DYWRDb2xvckluZGV4JzsKaW1wb3J0IEZhY2UgZnJvbSAnLi9lbnRpdGllcy8zZGZhY2UnOwppbXBvcnQgQXJjIGZyb20gJy4vZW50aXRpZXMvYXJjJzsKaW1wb3J0IEF0dERlZiBmcm9tICcuL2VudGl0aWVzL2F0dGRlZic7CmltcG9ydCBBdHRyaWJ1dGUgZnJvbSAnLi9lbnRpdGllcy9hdHRyaWJ1dGUnOwppbXBvcnQgQ2lyY2xlIGZyb20gJy4vZW50aXRpZXMvY2lyY2xlJzsKaW1wb3J0IERpbWVuc2lvbiBmcm9tICcuL2VudGl0aWVzL2RpbWVuc2lvbic7CmltcG9ydCBFbGxpcHNlIGZyb20gJy4vZW50aXRpZXMvZWxsaXBzZSc7CmltcG9ydCBJbnNlcnQgZnJvbSAnLi9lbnRpdGllcy9pbnNlcnQnOwppbXBvcnQgTGluZSBmcm9tICcuL2VudGl0aWVzL2xpbmUnOwppbXBvcnQgTFdQb2x5bGluZSBmcm9tICcuL2VudGl0aWVzL2x3cG9seWxpbmUnOwppbXBvcnQgTVRleHQgZnJvbSAnLi9lbnRpdGllcy9tdGV4dCc7CmltcG9ydCBQb2ludCBmcm9tICcuL2VudGl0aWVzL3BvaW50JzsKaW1wb3J0IFBvbHlsaW5lIGZyb20gJy4vZW50aXRpZXMvcG9seWxpbmUnOwppbXBvcnQgU29saWQgZnJvbSAnLi9lbnRpdGllcy9zb2xpZCc7CmltcG9ydCBTcGxpbmUgZnJvbSAnLi9lbnRpdGllcy9zcGxpbmUnOwppbXBvcnQgVGV4dCBmcm9tICcuL2VudGl0aWVzL3RleHQnOwppbXBvcnQgSGF0Y2ggZnJvbSAnLi9lbnRpdGllcy9oYXRjaCc7CmltcG9ydCBkaW1TdHlsZUNvZGVzIGZyb20gJy4vRGltU3R5bGVDb2Rlcyc7Ci8vaW1wb3J0IFZlcnRleCBmcm9tICcuL2VudGl0aWVzLyc7CgppbXBvcnQgbG9nIGZyb20gJ2xvZ2xldmVsJzsKCi8vbG9nLnNldExldmVsKCd0cmFjZScpOwovL2xvZy5zZXRMZXZlbCgnZGVidWcnKTsKLy9sb2cuc2V0TGV2ZWwoJ2luZm8nKTsKLy9sb2cuc2V0TGV2ZWwoJ3dhcm4nKTsKbG9nLnNldExldmVsKCdlcnJvcicpOwovL2xvZy5zZXRMZXZlbCgnc2lsZW50Jyk7CgpmdW5jdGlvbiByZWdpc3RlckRlZmF1bHRFbnRpdHlIYW5kbGVycyhkeGZQYXJzZXIpIHsKICAvLyBTdXBwb3J0ZWQgZW50aXRpZXMgaGVyZSAoc29tZSBlbnRpdHkgY29kZSBpcyBzdGlsbCBiZWluZyByZWZhY3RvcmVkIGludG8gdGhpcyBmbG93KQogIGR4ZlBhcnNlci5yZWdpc3RlckVudGl0eUhhbmRsZXIoRmFjZSk7CiAgZHhmUGFyc2VyLnJlZ2lzdGVyRW50aXR5SGFuZGxlcihBcmMpOwogIGR4ZlBhcnNlci5yZWdpc3RlckVudGl0eUhhbmRsZXIoQXR0RGVmKTsKICBkeGZQYXJzZXIucmVnaXN0ZXJFbnRpdHlIYW5kbGVyKEF0dHJpYnV0ZSk7CiAgZHhmUGFyc2VyLnJlZ2lzdGVyRW50aXR5SGFuZGxlcihDaXJjbGUpOwogIGR4ZlBhcnNlci5yZWdpc3RlckVudGl0eUhhbmRsZXIoRGltZW5zaW9uKTsKICBkeGZQYXJzZXIucmVnaXN0ZXJFbnRpdHlIYW5kbGVyKEVsbGlwc2UpOwogIGR4ZlBhcnNlci5yZWdpc3RlckVudGl0eUhhbmRsZXIoSW5zZXJ0KTsKICBkeGZQYXJzZXIucmVnaXN0ZXJFbnRpdHlIYW5kbGVyKExpbmUpOwogIGR4ZlBhcnNlci5yZWdpc3RlckVudGl0eUhhbmRsZXIoTFdQb2x5bGluZSk7CiAgZHhmUGFyc2VyLnJlZ2lzdGVyRW50aXR5SGFuZGxlcihNVGV4dCk7CiAgZHhmUGFyc2VyLnJlZ2lzdGVyRW50aXR5SGFuZGxlcihQb2ludCk7CiAgZHhmUGFyc2VyLnJlZ2lzdGVyRW50aXR5SGFuZGxlcihQb2x5bGluZSk7CiAgZHhmUGFyc2VyLnJlZ2lzdGVyRW50aXR5SGFuZGxlcihTb2xpZCk7CiAgZHhmUGFyc2VyLnJlZ2lzdGVyRW50aXR5SGFuZGxlcihTcGxpbmUpOwogIGR4ZlBhcnNlci5yZWdpc3RlckVudGl0eUhhbmRsZXIoVGV4dCk7CiAgZHhmUGFyc2VyLnJlZ2lzdGVyRW50aXR5SGFuZGxlcihIYXRjaCk7CiAgLy9keGZQYXJzZXIucmVnaXN0ZXJFbnRpdHlIYW5kbGVyKHJlcXVpcmUoJy4vZW50aXRpZXMvdmVydGV4JykpOwp9CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEeGZQYXJzZXIoKSB7CiAgdGhpcy5fZW50aXR5SGFuZGxlcnMgPSB7fTsKICByZWdpc3RlckRlZmF1bHRFbnRpdHlIYW5kbGVycyh0aGlzKTsKfQpEeGZQYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHNvdXJjZSwgZG9uZSkgewogIHRocm93IG5ldyBFcnJvcigicmVhZCgpIG5vdCBpbXBsZW1lbnRlZC4gVXNlIHJlYWRTeW5jKCkiKTsKfTsKRHhmUGFyc2VyLnByb3RvdHlwZS5yZWdpc3RlckVudGl0eUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlclR5cGUpIHsKICB2YXIgaW5zdGFuY2UgPSBuZXcgaGFuZGxlclR5cGUoKTsKICB0aGlzLl9lbnRpdHlIYW5kbGVyc1toYW5kbGVyVHlwZS5Gb3JFbnRpdHlOYW1lXSA9IGluc3RhbmNlOwp9OwpEeGZQYXJzZXIucHJvdG90eXBlLnBhcnNlU3luYyA9IGZ1bmN0aW9uIChzb3VyY2UpIHsKICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHsKICAgIHJldHVybiB0aGlzLl9wYXJzZShzb3VyY2UpOwogIH0gZWxzZSB7CiAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgcmVhZCBEWEYgc291cmNlIG9mIHR5cGUgYCcgKyB0eXBlb2Ygc291cmNlKTsKICAgIHJldHVybiBudWxsOwogIH0KfTsKRHhmUGFyc2VyLnByb3RvdHlwZS5wYXJzZVN0cmVhbSA9IGZ1bmN0aW9uIChzdHJlYW0sIGRvbmUpIHsKICB2YXIgZHhmU3RyaW5nID0gIiI7CiAgdmFyIHNlbGYgPSB0aGlzOwogIHN0cmVhbS5vbignZGF0YScsIG9uRGF0YSk7CiAgc3RyZWFtLm9uKCdlbmQnLCBvbkVuZCk7CiAgc3RyZWFtLm9uKCdlcnJvcicsIG9uRXJyb3IpOwogIGZ1bmN0aW9uIG9uRGF0YShjaHVuaykgewogICAgZHhmU3RyaW5nICs9IGNodW5rOwogIH0KICBmdW5jdGlvbiBvbkVuZCgpIHsKICAgIHRyeSB7CiAgICAgIHZhciBkeGYgPSBzZWxmLl9wYXJzZShkeGZTdHJpbmcpOwogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIHJldHVybiBkb25lKGVycik7CiAgICB9CiAgICBkb25lKG51bGwsIGR4Zik7CiAgfQogIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7CiAgICBkb25lKGVycik7CiAgfQp9OwpEeGZQYXJzZXIucHJvdG90eXBlLl9wYXJzZSA9IGZ1bmN0aW9uIChkeGZTdHJpbmcpIHsKICB2YXIgc2Nhbm5lciwKICAgIGN1cnIsCiAgICBkeGYgPSB7fSwKICAgIGxhc3RIYW5kbGUgPSAwOwogIHZhciBkeGZMaW5lc0FycmF5ID0gZHhmU3RyaW5nLnNwbGl0KC9cclxufFxyfFxuL2cpOwogIHNjYW5uZXIgPSBuZXcgRHhmQXJyYXlTY2FubmVyKGR4ZkxpbmVzQXJyYXkpOwogIGlmICghc2Nhbm5lci5oYXNOZXh0KCkpIHsKICAgIHRocm93IEVycm9yKCdFbXB0eSBmaWxlJyk7CiAgfQogIHZhciBzZWxmID0gdGhpczsKICB2YXIgcGFyc2VBbGwgPSBmdW5jdGlvbiAoKSB7CiAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICB3aGlsZSAoIXNjYW5uZXIuaXNFT0YoKSkgewogICAgICBpZiAoY3Vyci5jb2RlID09PSAwICYmIGN1cnIudmFsdWUgPT09ICdTRUNUSU9OJykgewogICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKCiAgICAgICAgLy8gQmUgc3VyZSB3ZSBhcmUgcmVhZGluZyBhIHNlY3Rpb24gY29kZQogICAgICAgIGlmIChjdXJyLmNvZGUgIT09IDIpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuZXhwZWN0ZWQgY29kZSAlcyBhZnRlciAwOlNFQ1RJT04nLCBkZWJ1Z0NvZGUoY3VycikpOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICAgIGlmIChjdXJyLnZhbHVlID09PSAnSEVBREVSJykgewogICAgICAgICAgbG9nLmRlYnVnKCc+IEhFQURFUicpOwogICAgICAgICAgZHhmLmhlYWRlciA9IHBhcnNlSGVhZGVyKCk7CiAgICAgICAgICBsb2cuZGVidWcoJzwnKTsKICAgICAgICB9IGVsc2UgaWYgKGN1cnIudmFsdWUgPT09ICdCTE9DS1MnKSB7CiAgICAgICAgICBsb2cuZGVidWcoJz4gQkxPQ0tTJyk7CiAgICAgICAgICBkeGYuYmxvY2tzID0gcGFyc2VCbG9ja3MoKTsKICAgICAgICAgIGxvZy5kZWJ1ZygnPCcpOwogICAgICAgIH0gZWxzZSBpZiAoY3Vyci52YWx1ZSA9PT0gJ0VOVElUSUVTJykgewogICAgICAgICAgbG9nLmRlYnVnKCc+IEVOVElUSUVTJyk7CiAgICAgICAgICBkeGYuZW50aXRpZXMgPSBwYXJzZUVudGl0aWVzKGZhbHNlKTsKICAgICAgICAgIGxvZy5kZWJ1ZygnPCcpOwogICAgICAgIH0gZWxzZSBpZiAoY3Vyci52YWx1ZSA9PT0gJ1RBQkxFUycpIHsKICAgICAgICAgIGxvZy5kZWJ1ZygnPiBUQUJMRVMnKTsKICAgICAgICAgIGR4Zi50YWJsZXMgPSBwYXJzZVRhYmxlcygpOwogICAgICAgICAgbG9nLmRlYnVnKCc8Jyk7CiAgICAgICAgfSBlbHNlIGlmIChjdXJyLnZhbHVlID09PSAnRU9GJykgewogICAgICAgICAgbG9nLmRlYnVnKCdFT0YnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9nLndhcm4oJ1NraXBwaW5nIHNlY3Rpb24gXCclc1wnJywgY3Vyci52YWx1ZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgfQogICAgICAvLyBJZiBpcyBhIG5ldyBzZWN0aW9uCiAgICB9CiAgfTsKCiAgdmFyIGdyb3VwSXMgPSBmdW5jdGlvbiAoY29kZSwgdmFsdWUpIHsKICAgIHJldHVybiBjdXJyLmNvZGUgPT09IGNvZGUgJiYgY3Vyci52YWx1ZSA9PT0gdmFsdWU7CiAgfTsKCiAgLyoqCiAgICoKICAgKiBAcmV0dXJuIHtvYmplY3R9IGhlYWRlcgogICAqLwogIHZhciBwYXJzZUhlYWRlciA9IGZ1bmN0aW9uICgpIHsKICAgIC8vIGludGVyZXN0aW5nIHZhcmlhYmxlczoKICAgIC8vICAkQUNBRFZFUiwgJFZJRVdESVIsICRWSUVXU0laRSwgJFZJRVdDVFIsICRURENSRUFURSwgJFREVVBEQVRFCiAgICAvLyBodHRwOi8vd3d3LmF1dG9kZXNrLmNvbS90ZWNocHVicy9hdXRvY2FkL2FjYWRyMTQvZHhmL2hlYWRlcl9zZWN0aW9uX2FsX3UwNV9jLmh0bQogICAgLy8gQWxzbyBzZWUgVlBPUlQgdGFibGUgZW50cmllcwogICAgdmFyIGN1cnJWYXJOYW1lID0gbnVsbCwKICAgICAgY3VyclZhclZhbHVlID0gbnVsbDsKICAgIHZhciBoZWFkZXIgPSB7fTsKICAgIC8vIGxvb3AgdGhyb3VnaCBoZWFkZXIgdmFyaWFibGVzCiAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICB3aGlsZSAodHJ1ZSkgewogICAgICBpZiAoZ3JvdXBJcygwLCAnRU5EU0VDJykpIHsKICAgICAgICBpZiAoY3VyclZhck5hbWUpIGhlYWRlcltjdXJyVmFyTmFtZV0gPSBjdXJyVmFyVmFsdWU7CiAgICAgICAgYnJlYWs7CiAgICAgIH0gZWxzZSBpZiAoY3Vyci5jb2RlID09PSA5KSB7CiAgICAgICAgaWYgKGN1cnJWYXJOYW1lKSBoZWFkZXJbY3VyclZhck5hbWVdID0gY3VyclZhclZhbHVlOwogICAgICAgIGN1cnJWYXJOYW1lID0gY3Vyci52YWx1ZTsKICAgICAgICAvLyBGaWx0ZXIgaGVyZSBmb3IgcGFydGljdWxhciB2YXJpYWJsZXMgd2UgYXJlIGludGVyZXN0ZWQgaW4KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoY3Vyci5jb2RlID09PSAxMCkgewogICAgICAgICAgY3VyclZhclZhbHVlID0gewogICAgICAgICAgICB4OiBjdXJyLnZhbHVlCiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSBpZiAoY3Vyci5jb2RlID09PSAyMCkgewogICAgICAgICAgY3VyclZhclZhbHVlLnkgPSBjdXJyLnZhbHVlOwogICAgICAgIH0gZWxzZSBpZiAoY3Vyci5jb2RlID09PSAzMCkgewogICAgICAgICAgY3VyclZhclZhbHVlLnogPSBjdXJyLnZhbHVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdXJyVmFyVmFsdWUgPSBjdXJyLnZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICB9CiAgICAvLyBjb25zb2xlLmxvZyh1dGlsLmluc3BlY3QoaGVhZGVyLCB7IGNvbG9yczogdHJ1ZSwgZGVwdGg6IG51bGwgfSkpOwogICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOyAvLyBzd2FsbG93IHVwIEVORFNFQwogICAgcmV0dXJuIGhlYWRlcjsKICB9OwoKICAvKioKICAgKgogICAqLwogIHZhciBwYXJzZUJsb2NrcyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBibG9ja3MgPSB7fSwKICAgICAgYmxvY2s7CiAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICB3aGlsZSAoY3Vyci52YWx1ZSAhPT0gJ0VPRicpIHsKICAgICAgaWYgKGdyb3VwSXMoMCwgJ0VORFNFQycpKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgaWYgKGdyb3VwSXMoMCwgJ0JMT0NLJykpIHsKICAgICAgICBsb2cuZGVidWcoJ2Jsb2NrIHsnKTsKICAgICAgICBibG9jayA9IHBhcnNlQmxvY2soKTsKICAgICAgICBsb2cuZGVidWcoJ30nKTsKICAgICAgICBlbnN1cmVIYW5kbGUoYmxvY2spOwogICAgICAgIGlmICghYmxvY2submFtZSkgbG9nLmVycm9yKCdibG9jayB3aXRoIGhhbmRsZSAiJyArIGJsb2NrLmhhbmRsZSArICciIGlzIG1pc3NpbmcgYSBuYW1lLicpO2Vsc2UgYmxvY2tzW2Jsb2NrLm5hbWVdID0gYmxvY2s7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9nVW5oYW5kbGVkR3JvdXAoY3Vycik7CiAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gYmxvY2tzOwogIH07CiAgdmFyIHBhcnNlQmxvY2sgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgYmxvY2sgPSB7fTsKICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgIHdoaWxlIChjdXJyLnZhbHVlICE9PSAnRU9GJykgewogICAgICBzd2l0Y2ggKGN1cnIuY29kZSkgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIGJsb2NrLnhyZWZQYXRoID0gY3Vyci52YWx1ZTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIGJsb2NrLm5hbWUgPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAzOgogICAgICAgICAgYmxvY2submFtZTIgPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA1OgogICAgICAgICAgYmxvY2suaGFuZGxlID0gY3Vyci52YWx1ZTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgODoKICAgICAgICAgIGJsb2NrLmxheWVyID0gY3Vyci52YWx1ZTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMTA6CiAgICAgICAgICBibG9jay5wb3NpdGlvbiA9IHBhcnNlUG9pbnQoKTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNjc6CiAgICAgICAgICBibG9jay5wYXBlclNwYWNlID0gY3Vyci52YWx1ZSAmJiBjdXJyLnZhbHVlID09IDEgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDcwOgogICAgICAgICAgaWYgKGN1cnIudmFsdWUgIT0gMCkgewogICAgICAgICAgICAvL2lmKGN1cnIudmFsdWUgJiBCTE9DS19BTk9OWU1PVVNfRkxBRykgY29uc29sZS5sb2coJyAgQW5vbnltb3VzIGJsb2NrJyk7CiAgICAgICAgICAgIC8vaWYoY3Vyci52YWx1ZSAmIEJMT0NLX05PTl9DT05TVEFOVF9GTEFHKSBjb25zb2xlLmxvZygnICBOb24tY29uc3RhbnQgYXR0cmlidXRlcycpOwogICAgICAgICAgICAvL2lmKGN1cnIudmFsdWUgJiBCTE9DS19YUkVGX0ZMQUcpIGNvbnNvbGUubG9nKCcgIElzIHhyZWYnKTsKICAgICAgICAgICAgLy9pZihjdXJyLnZhbHVlICYgQkxPQ0tfWFJFRl9PVkVSTEFZX0ZMQUcpIGNvbnNvbGUubG9nKCcgIElzIHhyZWYgb3ZlcmxheScpOwogICAgICAgICAgICAvL2lmKGN1cnIudmFsdWUgJiBCTE9DS19FWFRFUk5BTExZX0RFUEVOREVOVF9GTEFHKSBjb25zb2xlLmxvZygnICBJcyBleHRlcm5hbGx5IGRlcGVuZGVudCcpOwogICAgICAgICAgICAvL2lmKGN1cnIudmFsdWUgJiBCTE9DS19SRVNPTFZFRF9PUl9ERVBFTkRFTlRfRkxBRykgY29uc29sZS5sb2coJyAgSXMgcmVzb2x2ZWQgeHJlZiBvciBkZXBlbmRlbnQgb2YgYW4geHJlZicpOwogICAgICAgICAgICAvL2lmKGN1cnIudmFsdWUgJiBCTE9DS19SRUZFUkVOQ0VEX1hSRUYpIGNvbnNvbGUubG9nKCcgIFRoaXMgZGVmaW5pdGlvbiBpcyBhIHJlZmVyZW5jZWQgeHJlZicpOwogICAgICAgICAgICBibG9jay50eXBlID0gY3Vyci52YWx1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMTAwOgogICAgICAgICAgLy8gaWdub3JlIGNsYXNzIG1hcmtlcnMKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMzMwOgogICAgICAgICAgYmxvY2sub3duZXJIYW5kbGUgPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgaWYgKGN1cnIudmFsdWUgPT0gJ0VOREJMSycpIGJyZWFrOwogICAgICAgICAgYmxvY2suZW50aXRpZXMgPSBwYXJzZUVudGl0aWVzKHRydWUpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGxvZ1VuaGFuZGxlZEdyb3VwKGN1cnIpOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICB9CiAgICAgIGlmIChncm91cElzKDAsICdFTkRCTEsnKSkgewogICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGJsb2NrOwogIH07CgogIC8qKgogICAqIHBhcnNlVGFibGVzCiAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50aW5nIHRhYmxlcwogICAqLwogIHZhciBwYXJzZVRhYmxlcyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0YWJsZXMgPSB7fTsKICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgIHdoaWxlIChjdXJyLnZhbHVlICE9PSAnRU9GJykgewogICAgICBpZiAoZ3JvdXBJcygwLCAnRU5EU0VDJykpIGJyZWFrOwogICAgICBpZiAoZ3JvdXBJcygwLCAnVEFCTEUnKSkgewogICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICB2YXIgdGFibGVEZWZpbml0aW9uID0gdGFibGVEZWZpbml0aW9uc1tjdXJyLnZhbHVlXTsKICAgICAgICBpZiAodGFibGVEZWZpbml0aW9uKSB7CiAgICAgICAgICBsb2cuZGVidWcoY3Vyci52YWx1ZSArICcgVGFibGUgeycpOwogICAgICAgICAgdGFibGVzW3RhYmxlRGVmaW5pdGlvbnNbY3Vyci52YWx1ZV0udGFibGVOYW1lXSA9IHBhcnNlVGFibGUoKTsKICAgICAgICAgIGxvZy5kZWJ1ZygnfScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2cuZGVidWcoJ1VuaGFuZGxlZCBUYWJsZSAnICsgY3Vyci52YWx1ZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIGVsc2UgaWdub3JlZAogICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgfQogICAgfQogICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgcmV0dXJuIHRhYmxlczsKICB9OwogIGNvbnN0IEVORF9PRl9UQUJMRV9WQUxVRSA9ICdFTkRUQUInOwogIHZhciBwYXJzZVRhYmxlID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHRhYmxlRGVmaW5pdGlvbiA9IHRhYmxlRGVmaW5pdGlvbnNbY3Vyci52YWx1ZV0sCiAgICAgIHRhYmxlID0ge30sCiAgICAgIGV4cGVjdGVkQ291bnQgPSAwLAogICAgICBhY3R1YWxDb3VudDsKICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgIHdoaWxlICghZ3JvdXBJcygwLCBFTkRfT0ZfVEFCTEVfVkFMVUUpKSB7CiAgICAgIHN3aXRjaCAoY3Vyci5jb2RlKSB7CiAgICAgICAgY2FzZSA1OgogICAgICAgICAgdGFibGUuaGFuZGxlID0gY3Vyci52YWx1ZTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMzMwOgogICAgICAgICAgdGFibGUub3duZXJIYW5kbGUgPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAxMDA6CiAgICAgICAgICBpZiAoY3Vyci52YWx1ZSA9PT0gJ0FjRGJTeW1ib2xUYWJsZScpIHsKICAgICAgICAgICAgLy8gaWdub3JlCiAgICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxvZ1VuaGFuZGxlZEdyb3VwKGN1cnIpOwogICAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDcwOgogICAgICAgICAgZXhwZWN0ZWRDb3VudCA9IGN1cnIudmFsdWU7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBpZiAoY3Vyci52YWx1ZSA9PT0gdGFibGVEZWZpbml0aW9uLmR4ZlN5bWJvbE5hbWUpIHsKICAgICAgICAgICAgdGFibGVbdGFibGVEZWZpbml0aW9uLnRhYmxlUmVjb3Jkc1Byb3BlcnR5XSA9IHRhYmxlRGVmaW5pdGlvbi5wYXJzZVRhYmxlUmVjb3JkcygpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbG9nVW5oYW5kbGVkR3JvdXAoY3Vycik7CiAgICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBsb2dVbmhhbmRsZWRHcm91cChjdXJyKTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgfQogICAgfQogICAgdmFyIHRhYmxlUmVjb3JkcyA9IHRhYmxlW3RhYmxlRGVmaW5pdGlvbi50YWJsZVJlY29yZHNQcm9wZXJ0eV07CiAgICBpZiAodGFibGVSZWNvcmRzKSB7CiAgICAgIGlmICh0YWJsZVJlY29yZHMuY29uc3RydWN0b3IgPT09IEFycmF5KSB7CiAgICAgICAgYWN0dWFsQ291bnQgPSB0YWJsZVJlY29yZHMubGVuZ3RoOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0YWJsZVJlY29yZHMgPT09ICdvYmplY3QnKSB7CiAgICAgICAgYWN0dWFsQ291bnQgPSBPYmplY3Qua2V5cyh0YWJsZVJlY29yZHMpLmxlbmd0aDsKICAgICAgfQogICAgICBpZiAoZXhwZWN0ZWRDb3VudCAhPT0gYWN0dWFsQ291bnQpIHsKICAgICAgICBsb2cud2FybihgUGFyc2VkICR7YWN0dWFsQ291bnR9ICR7dGFibGVEZWZpbml0aW9uLmR4ZlN5bWJvbE5hbWV9J3MgYnV0IGV4cGVjdGVkICR7ZXhwZWN0ZWRDb3VudH1gKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGFibGVbdGFibGVEZWZpbml0aW9uLnRhYmxlUmVjb3Jkc1Byb3BlcnR5XSA9IFtdOwogICAgfQogICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgcmV0dXJuIHRhYmxlOwogIH07CiAgdmFyIHBhcnNlVmlld1BvcnRSZWNvcmRzID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHZpZXdQb3J0cyA9IFtdLAogICAgICAvLyBNdWx0aXBsZSB0YWJsZSBlbnRyaWVzIG1heSBoYXZlIHRoZSBzYW1lIG5hbWUgaW5kaWNhdGluZyBhIG11bHRpcGxlIHZpZXdwb3J0IGNvbmZpZ3VyYXRpb24KICAgICAgdmlld1BvcnQgPSB7fTsKICAgIGxvZy5kZWJ1ZygnVmlld1BvcnQgeycpOwogICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgd2hpbGUgKCFncm91cElzKDAsIEVORF9PRl9UQUJMRV9WQUxVRSkpIHsKICAgICAgc3dpdGNoIChjdXJyLmNvZGUpIHsKICAgICAgICBjYXNlIDI6CiAgICAgICAgICAvLyBsYXllciBuYW1lCiAgICAgICAgICB2aWV3UG9ydC5uYW1lID0gY3Vyci52YWx1ZTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMTA6CiAgICAgICAgICB2aWV3UG9ydC5sb3dlckxlZnRDb3JuZXIgPSBwYXJzZVBvaW50KCk7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDExOgogICAgICAgICAgdmlld1BvcnQudXBwZXJSaWdodENvcm5lciA9IHBhcnNlUG9pbnQoKTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMTI6CiAgICAgICAgICB2aWV3UG9ydC5jZW50ZXIgPSBwYXJzZVBvaW50KCk7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDEzOgogICAgICAgICAgdmlld1BvcnQuc25hcEJhc2VQb2ludCA9IHBhcnNlUG9pbnQoKTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICB2aWV3UG9ydC5zbmFwU3BhY2luZyA9IHBhcnNlUG9pbnQoKTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMTU6CiAgICAgICAgICB2aWV3UG9ydC5ncmlkU3BhY2luZyA9IHBhcnNlUG9pbnQoKTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMTY6CiAgICAgICAgICB2aWV3UG9ydC52aWV3RGlyZWN0aW9uRnJvbVRhcmdldCA9IHBhcnNlUG9pbnQoKTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMTc6CiAgICAgICAgICB2aWV3UG9ydC52aWV3VGFyZ2V0ID0gcGFyc2VQb2ludCgpOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA0MjoKICAgICAgICAgIHZpZXdQb3J0LmxlbnNMZW5ndGggPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA0MzoKICAgICAgICAgIHZpZXdQb3J0LmZyb250Q2xpcHBpbmdQbGFuZSA9IGN1cnIudmFsdWU7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDQ0OgogICAgICAgICAgdmlld1BvcnQuYmFja0NsaXBwaW5nUGxhbmUgPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA0NToKICAgICAgICAgIHZpZXdQb3J0LnZpZXdIZWlnaHQgPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA1MDoKICAgICAgICAgIHZpZXdQb3J0LnNuYXBSb3RhdGlvbkFuZ2xlID0gY3Vyci52YWx1ZTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNTE6CiAgICAgICAgICB2aWV3UG9ydC52aWV3VHdpc3RBbmdsZSA9IGN1cnIudmFsdWU7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDc5OgogICAgICAgICAgdmlld1BvcnQub3J0aG9ncmFwaGljVHlwZSA9IGN1cnIudmFsdWU7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDExMDoKICAgICAgICAgIHZpZXdQb3J0LnVjc09yaWdpbiA9IHBhcnNlUG9pbnQoKTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMTExOgogICAgICAgICAgdmlld1BvcnQudWNzWEF4aXMgPSBwYXJzZVBvaW50KCk7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDExMjoKICAgICAgICAgIHZpZXdQb3J0LnVjc1lBeGlzID0gcGFyc2VQb2ludCgpOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAxMTA6CiAgICAgICAgICB2aWV3UG9ydC51Y3NPcmlnaW4gPSBwYXJzZVBvaW50KCk7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDI4MToKICAgICAgICAgIHZpZXdQb3J0LnJlbmRlck1vZGUgPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAyODE6CiAgICAgICAgICAvLyAwIGlzIG9uZSBkaXN0YW50IGxpZ2h0LCAxIGlzIHR3byBkaXN0YW50IGxpZ2h0cwogICAgICAgICAgdmlld1BvcnQuZGVmYXVsdExpZ2h0aW5nVHlwZSA9IGN1cnIudmFsdWU7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDI5MjoKICAgICAgICAgIHZpZXdQb3J0LmRlZmF1bHRMaWdodGluZ09uID0gY3Vyci52YWx1ZTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMzMwOgogICAgICAgICAgdmlld1BvcnQub3duZXJIYW5kbGUgPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA2MzogLy8gVGhlc2UgYXJlIGFsbCBhbWJpZW50IGNvbG9yLiBQZXJoYXBzIHNob3VsZCBiZSBhIGdyYWRpZW50IHdoZW4gbXVsdGlwbGUgYXJlIHNldC4KICAgICAgICBjYXNlIDQyMToKICAgICAgICBjYXNlIDQzMToKICAgICAgICAgIHZpZXdQb3J0LmFtYmllbnRDb2xvciA9IGN1cnIudmFsdWU7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICAvLyBOZXcgVmlld1BvcnQKICAgICAgICAgIGlmIChjdXJyLnZhbHVlID09PSAnVlBPUlQnKSB7CiAgICAgICAgICAgIGxvZy5kZWJ1ZygnfScpOwogICAgICAgICAgICB2aWV3UG9ydHMucHVzaCh2aWV3UG9ydCk7CiAgICAgICAgICAgIGxvZy5kZWJ1ZygnVmlld1BvcnQgeycpOwogICAgICAgICAgICB2aWV3UG9ydCA9IHt9OwogICAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgbG9nVW5oYW5kbGVkR3JvdXAoY3Vycik7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgLy8gTm90ZTogZG8gbm90IGNhbGwgc2Nhbm5lci5uZXh0KCkgaGVyZSwKICAgIC8vICBwYXJzZVRhYmxlKCkgbmVlZHMgdGhlIGN1cnJlbnQgZ3JvdXAKICAgIGxvZy5kZWJ1ZygnfScpOwogICAgdmlld1BvcnRzLnB1c2godmlld1BvcnQpOwogICAgcmV0dXJuIHZpZXdQb3J0czsKICB9OwogIHZhciBwYXJzZUxpbmVUeXBlcyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBsdHlwZXMgPSB7fSwKICAgICAgbHR5cGVOYW1lLAogICAgICBsdHlwZSA9IHt9LAogICAgICBsZW5ndGg7CiAgICBsb2cuZGVidWcoJ0xUeXBlIHsnKTsKICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgIHdoaWxlICghZ3JvdXBJcygwLCAnRU5EVEFCJykpIHsKICAgICAgc3dpdGNoIChjdXJyLmNvZGUpIHsKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBsdHlwZS5uYW1lID0gY3Vyci52YWx1ZTsKICAgICAgICAgIGx0eXBlTmFtZSA9IGN1cnIudmFsdWU7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBsdHlwZS5kZXNjcmlwdGlvbiA9IGN1cnIudmFsdWU7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDczOgogICAgICAgICAgLy8gTnVtYmVyIG9mIGVsZW1lbnRzIGZvciB0aGlzIGxpbmUgdHlwZSAoZG90cywgZGFzaGVzLCBzcGFjZXMpOwogICAgICAgICAgbGVuZ3RoID0gY3Vyci52YWx1ZTsKICAgICAgICAgIGlmIChsZW5ndGggPiAwKSBsdHlwZS5wYXR0ZXJuID0gW107CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDQwOgogICAgICAgICAgLy8gdG90YWwgcGF0dGVybiBsZW5ndGgKICAgICAgICAgIGx0eXBlLnBhdHRlcm5MZW5ndGggPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA0OToKICAgICAgICAgIGx0eXBlLnBhdHRlcm4ucHVzaChjdXJyLnZhbHVlKTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMDoKICAgICAgICAgIGxvZy5kZWJ1ZygnfScpOwogICAgICAgICAgaWYgKGxlbmd0aCA+IDAgJiYgbGVuZ3RoICE9PSBsdHlwZS5wYXR0ZXJuLmxlbmd0aCkgewogICAgICAgICAgICBsb2cud2FybignbGVuZ3RocyBkbyBub3QgbWF0Y2ggb24gTFRZUEUgcGF0dGVybicpOwogICAgICAgICAgfQogICAgICAgICAgbHR5cGVzW2x0eXBlTmFtZV0gPSBsdHlwZTsKICAgICAgICAgIGx0eXBlID0ge307CiAgICAgICAgICBsb2cuZGVidWcoJ0xUeXBlIHsnKTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgIH0KICAgIH0KICAgIGxvZy5kZWJ1ZygnfScpOwogICAgbHR5cGVzW2x0eXBlTmFtZV0gPSBsdHlwZTsKICAgIHJldHVybiBsdHlwZXM7CiAgfTsKICB2YXIgcGFyc2VMYXllcnMgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGF5ZXJzID0ge30sCiAgICAgIGxheWVyTmFtZSwKICAgICAgbGF5ZXIgPSB7fTsKICAgIGxvZy5kZWJ1ZygnTGF5ZXIgeycpOwogICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgd2hpbGUgKCFncm91cElzKDAsICdFTkRUQUInKSkgewogICAgICBzd2l0Y2ggKGN1cnIuY29kZSkgewogICAgICAgIGNhc2UgMjoKICAgICAgICAgIC8vIGxheWVyIG5hbWUKICAgICAgICAgIGxheWVyLm5hbWUgPSBjdXJyLnZhbHVlOwogICAgICAgICAgbGF5ZXJOYW1lID0gY3Vyci52YWx1ZTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNjI6CiAgICAgICAgICAvLyBjb2xvciwgdmlzaWJpbGl0eQogICAgICAgICAgbGF5ZXIudmlzaWJsZSA9IGN1cnIudmFsdWUgPj0gMDsKICAgICAgICAgIC8vIFRPRE8gMCBhbmQgMjU2IGFyZSBCWUJMT0NLIGFuZCBCWUxBWUVSIHJlc3BlY3RpdmVseS4gTmVlZCB0byBoYW5kbGUgdGhlc2UgdmFsdWVzIGZvciBsYXllcnM/LgogICAgICAgICAgbGF5ZXIuY29sb3JJbmRleCA9IE1hdGguYWJzKGN1cnIudmFsdWUpOwogICAgICAgICAgbGF5ZXIuY29sb3IgPSBnZXRBY2FkQ29sb3IobGF5ZXIuY29sb3JJbmRleCk7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDcwOgogICAgICAgICAgLy8gZnJvemVuIGxheWVyCiAgICAgICAgICBsYXllci5mcm96ZW4gPSAoY3Vyci52YWx1ZSAmIDEpICE9PSAwIHx8IChjdXJyLnZhbHVlICYgMikgIT09IDA7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDQyMDoKICAgICAgICAgIC8vIFRydWVDb2xvciBDb2xvcgogICAgICAgICAgbGF5ZXIuY29sb3IgPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgLy8gTmV3IExheWVyCiAgICAgICAgICBpZiAoY3Vyci52YWx1ZSA9PT0gJ0xBWUVSJykgewogICAgICAgICAgICBsb2cuZGVidWcoJ30nKTsKICAgICAgICAgICAgbGF5ZXJzW2xheWVyTmFtZV0gPSBsYXllcjsKICAgICAgICAgICAgbG9nLmRlYnVnKCdMYXllciB7Jyk7CiAgICAgICAgICAgIGxheWVyID0ge307CiAgICAgICAgICAgIGxheWVyTmFtZSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgfQogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGxvZ1VuaGFuZGxlZEdyb3VwKGN1cnIpOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICAgIC8vIE5vdGU6IGRvIG5vdCBjYWxsIHNjYW5uZXIubmV4dCgpIGhlcmUsCiAgICAvLyAgcGFyc2VMYXllclRhYmxlKCkgbmVlZHMgdGhlIGN1cnJlbnQgZ3JvdXAKICAgIGxvZy5kZWJ1ZygnfScpOwogICAgbGF5ZXJzW2xheWVyTmFtZV0gPSBsYXllcjsKICAgIHJldHVybiBsYXllcnM7CiAgfTsKICB2YXIgcGFyc2VEaW1TdHlsZXMgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZGltU3R5bGVzID0ge30sCiAgICAgIHN0eWxlTmFtZSwKICAgICAgc3R5bGUgPSB7fTsKICAgIGxvZy5kZWJ1ZygnRGltU3R5bGUgeycpOwogICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgd2hpbGUgKCFncm91cElzKDAsICdFTkRUQUInKSkgewogICAgICBpZiAoZGltU3R5bGVDb2Rlcy5oYXMoY3Vyci5jb2RlKSkgewogICAgICAgIHN0eWxlW2RpbVN0eWxlQ29kZXMuZ2V0KGN1cnIuY29kZSldID0gY3Vyci52YWx1ZTsKICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3dpdGNoIChjdXJyLmNvZGUpIHsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgLy8gc3R5bGUgbmFtZQogICAgICAgICAgICBzdHlsZS5uYW1lID0gY3Vyci52YWx1ZTsKICAgICAgICAgICAgc3R5bGVOYW1lID0gY3Vyci52YWx1ZTsKICAgICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgLy8gTmV3IHN0eWxlCiAgICAgICAgICAgIGlmIChjdXJyLnZhbHVlID09PSAnRElNU1RZTEUnKSB7CiAgICAgICAgICAgICAgbG9nLmRlYnVnKCd9Jyk7CiAgICAgICAgICAgICAgZGltU3R5bGVzW3N0eWxlTmFtZV0gPSBzdHlsZTsKICAgICAgICAgICAgICBsb2cuZGVidWcoJ0RpbVN0eWxlIHsnKTsKICAgICAgICAgICAgICBzdHlsZSA9IHt9OwogICAgICAgICAgICAgIHN0eWxlTmFtZSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBsb2dVbmhhbmRsZWRHcm91cChjdXJyKTsKICAgICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8vIE5vdGU6IGRvIG5vdCBjYWxsIHNjYW5uZXIubmV4dCgpIGhlcmUsCiAgICAvLyAgcGFyc2VMYXllclRhYmxlKCkgbmVlZHMgdGhlIGN1cnJlbnQgZ3JvdXAKICAgIGxvZy5kZWJ1ZygnfScpOwogICAgZGltU3R5bGVzW3N0eWxlTmFtZV0gPSBzdHlsZTsKICAgIHJldHVybiBkaW1TdHlsZXM7CiAgfTsKICB2YXIgcGFyc2VTdHlsZXMgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc3R5bGVzID0ge307CiAgICB2YXIgc3R5bGUgPSB7fTsKICAgIHZhciBzdHlsZU5hbWU7CiAgICBsb2cuZGVidWcoJ1N0eWxlIHsnKTsKICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgIHdoaWxlICghZ3JvdXBJcygwLCBFTkRfT0ZfVEFCTEVfVkFMVUUpKSB7CiAgICAgIHN3aXRjaCAoY3Vyci5jb2RlKSB7CiAgICAgICAgY2FzZSAxMDA6CiAgICAgICAgICBzdHlsZS5zdWJDbGFzc01hcmtlciA9IGN1cnIudmFsdWU7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBzdHlsZS5zdHlsZU5hbWUgPSBjdXJyLnZhbHVlOwogICAgICAgICAgc3R5bGVOYW1lID0gY3Vyci52YWx1ZTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNzA6CiAgICAgICAgICBzdHlsZS5zdGFuZGFyZEZsYWcgPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA0MDoKICAgICAgICAgIHN0eWxlLmZpeGVkVGV4dEhlaWdodCA9IGN1cnIudmFsdWU7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDQxOgogICAgICAgICAgc3R5bGUud2lkdGhGYWN0b3IgPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA1MDoKICAgICAgICAgIHN0eWxlLm9ibGlxdWVBbmdsZSA9IGN1cnIudmFsdWU7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDcxOgogICAgICAgICAgc3R5bGUudGV4dEdlbmVyYXRpb25GbGFnID0gY3Vyci52YWx1ZTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNDI6CiAgICAgICAgICBzdHlsZS5sYXN0SGVpZ2h0ID0gY3Vyci52YWx1ZTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMzoKICAgICAgICAgIHN0eWxlLmZvbnQgPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA0OgogICAgICAgICAgc3R5bGUuYmlnRm9udCA9IGN1cnIudmFsdWU7CiAgICAgICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDEwNzE6CiAgICAgICAgICBzdHlsZS5leHRlbmRlZEZvbnQgPSBjdXJyLnZhbHVlOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgaWYgKGN1cnIudmFsdWUgPT09ICdTVFlMRScpIHsKICAgICAgICAgICAgbG9nLmRlYnVnKCd9Jyk7CiAgICAgICAgICAgIHN0eWxlc1tzdHlsZU5hbWVdID0gc3R5bGU7CiAgICAgICAgICAgIGxvZy5kZWJ1ZygnU3R5bGUgeycpOwogICAgICAgICAgICBzdHlsZSA9IHt9OwogICAgICAgICAgICBzdHlsZU5hbWUgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBsb2dVbmhhbmRsZWRHcm91cChjdXJyKTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBsb2cuZGVidWcoJ30nKTsKICAgIHN0eWxlc1tzdHlsZU5hbWVdID0gc3R5bGU7CiAgICByZXR1cm4gc3R5bGVzOwogIH07CiAgdmFyIHRhYmxlRGVmaW5pdGlvbnMgPSB7CiAgICBWUE9SVDogewogICAgICB0YWJsZVJlY29yZHNQcm9wZXJ0eTogJ3ZpZXdQb3J0cycsCiAgICAgIHRhYmxlTmFtZTogJ3ZpZXdQb3J0JywKICAgICAgZHhmU3ltYm9sTmFtZTogJ1ZQT1JUJywKICAgICAgcGFyc2VUYWJsZVJlY29yZHM6IHBhcnNlVmlld1BvcnRSZWNvcmRzCiAgICB9LAogICAgTFRZUEU6IHsKICAgICAgdGFibGVSZWNvcmRzUHJvcGVydHk6ICdsaW5lVHlwZXMnLAogICAgICB0YWJsZU5hbWU6ICdsaW5lVHlwZScsCiAgICAgIGR4ZlN5bWJvbE5hbWU6ICdMVFlQRScsCiAgICAgIHBhcnNlVGFibGVSZWNvcmRzOiBwYXJzZUxpbmVUeXBlcwogICAgfSwKICAgIExBWUVSOiB7CiAgICAgIHRhYmxlUmVjb3Jkc1Byb3BlcnR5OiAnbGF5ZXJzJywKICAgICAgdGFibGVOYW1lOiAnbGF5ZXInLAogICAgICBkeGZTeW1ib2xOYW1lOiAnTEFZRVInLAogICAgICBwYXJzZVRhYmxlUmVjb3JkczogcGFyc2VMYXllcnMKICAgIH0sCiAgICBESU1TVFlMRTogewogICAgICB0YWJsZVJlY29yZHNQcm9wZXJ0eTogJ2RpbVN0eWxlcycsCiAgICAgIHRhYmxlTmFtZTogJ2RpbXN0eWxlJywKICAgICAgZHhmU3ltYm9sTmFtZTogJ0RJTVNUWUxFJywKICAgICAgcGFyc2VUYWJsZVJlY29yZHM6IHBhcnNlRGltU3R5bGVzCiAgICB9LAogICAgU1RZTEU6IHsKICAgICAgdGFibGVSZWNvcmRzUHJvcGVydHk6ICdzdHlsZXMnLAogICAgICB0YWJsZU5hbWU6ICdzdHlsZScsCiAgICAgIGR4ZlN5bWJvbE5hbWU6ICdTVFlMRScsCiAgICAgIHBhcnNlVGFibGVSZWNvcmRzOiBwYXJzZVN0eWxlcwogICAgfQogIH07CgogIC8qKgogICAqIElzIGNhbGxlZCBhZnRlciB0aGUgcGFyc2VyIGZpcnN0IHJlYWRzIHRoZSAwOkVOVElUSUVTIGdyb3VwLiBUaGUgc2Nhbm5lcgogICAqIHNob3VsZCBiZSBvbiB0aGUgc3RhcnQgb2YgdGhlIGZpcnN0IGVudGl0eSBhbHJlYWR5LgogICAqIEByZXR1cm4ge0FycmF5fSB0aGUgcmVzdWx0aW5nIGVudGl0aWVzCiAgICovCiAgdmFyIHBhcnNlRW50aXRpZXMgPSBmdW5jdGlvbiAoZm9yQmxvY2spIHsKICAgIHZhciBlbnRpdGllcyA9IFtdOwogICAgdmFyIGVuZGluZ09uVmFsdWUgPSBmb3JCbG9jayA/ICdFTkRCTEsnIDogJ0VORFNFQyc7CiAgICBpZiAoIWZvckJsb2NrKSB7CiAgICAgIGN1cnIgPSBzY2FubmVyLm5leHQoKTsKICAgIH0KICAgIHdoaWxlICh0cnVlKSB7CiAgICAgIGlmIChjdXJyLmNvZGUgPT09IDApIHsKICAgICAgICBpZiAoY3Vyci52YWx1ZSA9PT0gZW5kaW5nT25WYWx1ZSkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIHZhciBlbnRpdHk7CiAgICAgICAgdmFyIGhhbmRsZXIgPSBzZWxmLl9lbnRpdHlIYW5kbGVyc1tjdXJyLnZhbHVlXTsKICAgICAgICBpZiAoaGFuZGxlciAhPSBudWxsKSB7CiAgICAgICAgICBsb2cuZGVidWcoY3Vyci52YWx1ZSArICcgeycpOwogICAgICAgICAgZW50aXR5ID0gaGFuZGxlci5wYXJzZUVudGl0eShzY2FubmVyLCBjdXJyKTsKICAgICAgICAgIGN1cnIgPSBzY2FubmVyLmxhc3RSZWFkR3JvdXA7CiAgICAgICAgICBsb2cuZGVidWcoJ30nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9nLndhcm4oJ1VuaGFuZGxlZCBlbnRpdHkgJyArIGN1cnIudmFsdWUpOwogICAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICAgIGVuc3VyZUhhbmRsZShlbnRpdHkpOwogICAgICAgIGVudGl0aWVzLnB1c2goZW50aXR5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBpZ25vcmVkIGxpbmVzIGZyb20gdW5zdXBwb3J0ZWQgZW50aXR5CiAgICAgICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgICB9CiAgICB9CiAgICBpZiAoZW5kaW5nT25WYWx1ZSA9PSAnRU5EU0VDJykgewogICAgICBjdXJyID0gc2Nhbm5lci5uZXh0KCk7IC8vIHN3YWxsb3cgdXAgRU5EU0VDLCBidXQgbm90IEVOREJMSwogICAgfQoKICAgIHJldHVybiBlbnRpdGllczsKICB9OwoKICAvKioKICAgKiBQYXJzZXMgYSAyRCBvciAzRCBwb2ludCwgcmV0dXJuaW5nIGl0IGFzIGFuIG9iamVjdCB3aXRoIHgsIHksIGFuZAogICAqIChzb21ldGltZXMpIHogcHJvcGVydHkgaWYgaXQgaXMgM0QuIEl0IGlzIGFzc3VtZWQgdGhlIGN1cnJlbnQgZ3JvdXAKICAgKiBpcyB4IG9mIHRoZSBwb2ludCBiZWluZyByZWFkIGluLCBhbmQgc2Nhbm5lci5uZXh0KCkgd2lsbCByZXR1cm4gdGhlCiAgICogeS4gVGhlIHBhcnNlciB3aWxsIGRldGVybWluZSBpZiB0aGVyZSBpcyBhIHogcG9pbnQgYXV0b21hdGljYWxseS4KICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSAyRCBvciAzRCBwb2ludCBhcyBhbiBvYmplY3Qgd2l0aCB4LCB5Wywgel0KICAgKi8KICB2YXIgcGFyc2VQb2ludCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBwb2ludCA9IHt9LAogICAgICBjb2RlID0gY3Vyci5jb2RlOwogICAgcG9pbnQueCA9IGN1cnIudmFsdWU7CiAgICBjb2RlICs9IDEwOwogICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgaWYgKGN1cnIuY29kZSAhPSBjb2RlKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGNvZGUgZm9yIHBvaW50IHZhbHVlIHRvIGJlICcgKyBjb2RlICsgJyBidXQgZ290ICcgKyBjdXJyLmNvZGUgKyAnLicpOwogICAgcG9pbnQueSA9IGN1cnIudmFsdWU7CiAgICBjb2RlICs9IDEwOwogICAgY3VyciA9IHNjYW5uZXIubmV4dCgpOwogICAgaWYgKGN1cnIuY29kZSAhPSBjb2RlKSB7CiAgICAgIHNjYW5uZXIucmV3aW5kKCk7CiAgICAgIHJldHVybiBwb2ludDsKICAgIH0KICAgIHBvaW50LnogPSBjdXJyLnZhbHVlOwogICAgcmV0dXJuIHBvaW50OwogIH07CiAgdmFyIGVuc3VyZUhhbmRsZSA9IGZ1bmN0aW9uIChlbnRpdHkpIHsKICAgIGlmICghZW50aXR5KSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VudGl0eSBjYW5ub3QgYmUgdW5kZWZpbmVkIG9yIG51bGwnKTsKICAgIH0KICAgIGlmICghZW50aXR5LmhhbmRsZSkgewogICAgICBlbnRpdHkuaGFuZGxlID0gbGFzdEhhbmRsZSsrOwogICAgfQogIH07CiAgcGFyc2VBbGwoKTsKICByZXR1cm4gZHhmOwp9OwpmdW5jdGlvbiBsb2dVbmhhbmRsZWRHcm91cChjdXJyKSB7CiAgbG9nLmRlYnVnKCd1bmhhbmRsZWQgZ3JvdXAgJyArIGRlYnVnQ29kZShjdXJyKSk7Cn0KZnVuY3Rpb24gZGVidWdDb2RlKGN1cnIpIHsKICByZXR1cm4gY3Vyci5jb2RlICsgJzonICsgY3Vyci52YWx1ZTsKfQoKLyoqCiAqIFJldHVybnMgdGhlIHRydWVjb2xvciB2YWx1ZSBvZiB0aGUgZ2l2ZW4gQXV0b0NhZCBjb2xvciBpbmRleCB2YWx1ZQogKiBAcmV0dXJuIHtOdW1iZXJ9IHRydWVjb2xvciB2YWx1ZSBhcyBhIG51bWJlcgogKi8KZnVuY3Rpb24gZ2V0QWNhZENvbG9yKGluZGV4KSB7CiAgcmV0dXJuIEFVVE9fQ0FEX0NPTE9SX0lOREVYW2luZGV4XTsKfQpjb25zdCBCTE9DS19BTk9OWU1PVVNfRkxBRyA9IDE7CmNvbnN0IEJMT0NLX05PTl9DT05TVEFOVF9GTEFHID0gMjsKY29uc3QgQkxPQ0tfWFJFRl9GTEFHID0gNDsKY29uc3QgQkxPQ0tfWFJFRl9PVkVSTEFZX0ZMQUcgPSA4Owpjb25zdCBCTE9DS19FWFRFUk5BTExZX0RFUEVOREVOVF9GTEFHID0gMTY7CmNvbnN0IEJMT0NLX1JFU09MVkVEX09SX0RFUEVOREVOVF9GTEFHID0gMzI7CmNvbnN0IEJMT0NLX1JFRkVSRU5DRURfWFJFRiA9IDY0OwoKLyogTm90ZXMgKi8KLy8gQ29kZSA2IG9mIGFuIGVudGl0eSBpbmRpY2F0ZXMgaW5oZXJpdGFuY2Ugb2YgcHJvcGVydGllcyAoZWcuIGNvbG9yKS4KLy8gICBCWUJMT0NLIG1lYW5zIGluaGVyaXRzIGZyb20gYmxvY2sKLy8gICBCWUxBWUVSIChkZWZhdWx0KSBtZWFuIGluaGVyaXRzIGZyb20gbGF5ZXI="},{"version":3,"names":["DxfArrayScanner","AUTO_CAD_COLOR_INDEX","Face","Arc","AttDef","Attribute","Circle","Dimension","Ellipse","Insert","Line","LWPolyline","MText","Point","Polyline","Solid","Spline","Text","Hatch","dimStyleCodes","log","setLevel","registerDefaultEntityHandlers","dxfParser","registerEntityHandler","DxfParser","_entityHandlers","prototype","parse","source","done","Error","handlerType","instance","ForEntityName","parseSync","_parse","console","error","parseStream","stream","dxfString","self","on","onData","onEnd","onError","chunk","dxf","err","scanner","curr","lastHandle","dxfLinesArray","split","hasNext","parseAll","next","isEOF","code","value","debugCode","debug","header","parseHeader","blocks","parseBlocks","entities","parseEntities","tables","parseTables","warn","groupIs","currVarName","currVarValue","x","y","z","block","parseBlock","ensureHandle","name","handle","logUnhandledGroup","xrefPath","name2","layer","position","parsePoint","paperSpace","type","ownerHandle","tableDefinition","tableDefinitions","tableName","parseTable","END_OF_TABLE_VALUE","table","expectedCount","actualCount","dxfSymbolName","tableRecordsProperty","parseTableRecords","tableRecords","constructor","Array","length","Object","keys","parseViewPortRecords","viewPorts","viewPort","lowerLeftCorner","upperRightCorner","center","snapBasePoint","snapSpacing","gridSpacing","viewDirectionFromTarget","viewTarget","lensLength","frontClippingPlane","backClippingPlane","viewHeight","snapRotationAngle","viewTwistAngle","orthographicType","ucsOrigin","ucsXAxis","ucsYAxis","renderMode","defaultLightingType","defaultLightingOn","ambientColor","push","parseLineTypes","ltypes","ltypeName","ltype","description","pattern","patternLength","parseLayers","layers","layerName","visible","colorIndex","Math","abs","color","getAcadColor","frozen","undefined","parseDimStyles","dimStyles","styleName","style","has","get","parseStyles","styles","subClassMarker","standardFlag","fixedTextHeight","widthFactor","obliqueAngle","textGenerationFlag","lastHeight","font","bigFont","extendedFont","VPORT","LTYPE","LAYER","DIMSTYLE","STYLE","forBlock","endingOnValue","entity","handler","parseEntity","lastReadGroup","point","rewind","TypeError","index","BLOCK_ANONYMOUS_FLAG","BLOCK_NON_CONSTANT_FLAG","BLOCK_XREF_FLAG","BLOCK_XREF_OVERLAY_FLAG","BLOCK_EXTERNALLY_DEPENDENT_FLAG","BLOCK_RESOLVED_OR_DEPENDENT_FLAG","BLOCK_REFERENCED_XREF"],"sources":["C:/Users/SDC-8/Desktop/Sowndarya/CMTI- Running Projects/PiWeb Running/PiWeb-CMTI-Pdf trying/1stApril/Trying/PiWeb-CMTI (2)/PiWeb-CMTI/node_modules/dxf-viewer/src/parser/DxfParser.js"],"sourcesContent":["import DxfArrayScanner from './DxfArrayScanner';\nimport AUTO_CAD_COLOR_INDEX from './AutoCadColorIndex';\n\nimport Face from './entities/3dface';\nimport Arc from './entities/arc';\nimport AttDef from './entities/attdef';\nimport Attribute from './entities/attribute'\nimport Circle from './entities/circle';\nimport Dimension from './entities/dimension';\nimport Ellipse from './entities/ellipse';\nimport Insert from './entities/insert';\nimport Line from './entities/line';\nimport LWPolyline from './entities/lwpolyline';\nimport MText from './entities/mtext';\nimport Point from './entities/point';\nimport Polyline from './entities/polyline';\nimport Solid from './entities/solid';\nimport Spline from './entities/spline';\nimport Text from './entities/text';\nimport Hatch from './entities/hatch';\nimport dimStyleCodes from './DimStyleCodes';\n//import Vertex from './entities/';\n\nimport log from 'loglevel';\n\n//log.setLevel('trace');\n//log.setLevel('debug');\n//log.setLevel('info');\n//log.setLevel('warn');\nlog.setLevel('error');\n//log.setLevel('silent');\n\nfunction registerDefaultEntityHandlers(dxfParser) {\n    // Supported entities here (some entity code is still being refactored into this flow)\n    dxfParser.registerEntityHandler(Face);\n    dxfParser.registerEntityHandler(Arc);\n    dxfParser.registerEntityHandler(AttDef);\n    dxfParser.registerEntityHandler(Attribute);\n    dxfParser.registerEntityHandler(Circle);\n    dxfParser.registerEntityHandler(Dimension);\n    dxfParser.registerEntityHandler(Ellipse);\n    dxfParser.registerEntityHandler(Insert);\n    dxfParser.registerEntityHandler(Line);\n    dxfParser.registerEntityHandler(LWPolyline);\n    dxfParser.registerEntityHandler(MText);\n    dxfParser.registerEntityHandler(Point);\n    dxfParser.registerEntityHandler(Polyline);\n    dxfParser.registerEntityHandler(Solid);\n    dxfParser.registerEntityHandler(Spline);\n    dxfParser.registerEntityHandler(Text);\n    dxfParser.registerEntityHandler(Hatch);\n    //dxfParser.registerEntityHandler(require('./entities/vertex'));\n}\n\nexport default function DxfParser() {\n    this._entityHandlers = {};\n\n    registerDefaultEntityHandlers(this);\n}\n\nDxfParser.prototype.parse = function(source, done) {\n    throw new Error(\"read() not implemented. Use readSync()\");\n};\n\nDxfParser.prototype.registerEntityHandler = function(handlerType) {\n    var instance = new handlerType();\n    this._entityHandlers[handlerType.ForEntityName] = instance;\n}\n\nDxfParser.prototype.parseSync = function(source) {\n    if(typeof(source) === 'string') {\n        return this._parse(source);\n    }else {\n        console.error('Cannot read DXF source of type `' + typeof(source));\n        return null;\n    }\n};\n\nDxfParser.prototype.parseStream = function(stream, done) {\n\n    var dxfString = \"\";\n    var self = this;\n\n    stream.on('data', onData);\n    stream.on('end', onEnd);\n    stream.on('error', onError);\n\n    function onData(chunk) {\n        dxfString += chunk;\n    }\n\n    function onEnd() {\n        try {\n            var dxf = self._parse(dxfString);\n        } catch(err) {\n            return done(err);\n        }\n        done(null, dxf);\n    }\n\n    function onError(err) {\n        done(err);\n    }\n};\n\nDxfParser.prototype._parse = function(dxfString) {\n    var scanner, curr, dxf = {}, lastHandle = 0;\n    var dxfLinesArray = dxfString.split(/\\r\\n|\\r|\\n/g);\n\n    scanner = new DxfArrayScanner(dxfLinesArray);\n    if (!scanner.hasNext()) {\n        throw Error('Empty file');\n    }\n\n    var self = this;\n\n    var parseAll = function() {\n        curr = scanner.next();\n        while(!scanner.isEOF()) {\n            if(curr.code === 0 && curr.value === 'SECTION') {\n                curr = scanner.next();\n\n                // Be sure we are reading a section code\n                if (curr.code !== 2) {\n                    console.error('Unexpected code %s after 0:SECTION', debugCode(curr));\n                    curr = scanner.next();\n                    continue;\n                }\n\n                if (curr.value === 'HEADER') {\n                    log.debug('> HEADER');\n                    dxf.header = parseHeader();\n                    log.debug('<');\n                } else if (curr.value === 'BLOCKS') {\n                    log.debug('> BLOCKS');\n                    dxf.blocks = parseBlocks();\n                    log.debug('<');\n                } else if(curr.value === 'ENTITIES') {\n                    log.debug('> ENTITIES');\n                    dxf.entities = parseEntities(false);\n                    log.debug('<');\n                } else if(curr.value === 'TABLES') {\n                    log.debug('> TABLES');\n                    dxf.tables = parseTables();\n                    log.debug('<');\n                } else if(curr.value === 'EOF') {\n                    log.debug('EOF');\n                } else {\n                    log.warn('Skipping section \\'%s\\'', curr.value);\n                }\n            } else {\n                curr = scanner.next();\n            }\n            // If is a new section\n        }\n    };\n\n    var groupIs = function(code, value) {\n        return curr.code === code && curr.value === value;\n    };\n\n    /**\n     *\n     * @return {object} header\n     */\n    var parseHeader = function() {\n        // interesting variables:\n        //  $ACADVER, $VIEWDIR, $VIEWSIZE, $VIEWCTR, $TDCREATE, $TDUPDATE\n        // http://www.autodesk.com/techpubs/autocad/acadr14/dxf/header_section_al_u05_c.htm\n        // Also see VPORT table entries\n        var currVarName = null, currVarValue = null;\n        var header = {};\n        // loop through header variables\n        curr = scanner.next();\n\n        while(true) {\n            if(groupIs(0, 'ENDSEC')) {\n                if(currVarName) header[currVarName] = currVarValue;\n                break;\n            } else if(curr.code === 9) {\n                if(currVarName) header[currVarName] = currVarValue;\n                currVarName = curr.value;\n                // Filter here for particular variables we are interested in\n            } else {\n                if(curr.code === 10) {\n                    currVarValue = { x: curr.value };\n                } else if(curr.code === 20) {\n                    currVarValue.y = curr.value;\n                } else if(curr.code === 30) {\n                    currVarValue.z = curr.value;\n                } else {\n                    currVarValue = curr.value;\n                }\n            }\n            curr = scanner.next();\n        }\n        // console.log(util.inspect(header, { colors: true, depth: null }));\n        curr = scanner.next(); // swallow up ENDSEC\n        return header;\n    };\n\n\n    /**\n     *\n     */\n    var parseBlocks = function() {\n        var blocks = {}, block;\n\n        curr = scanner.next();\n\n        while(curr.value !== 'EOF') {\n            if(groupIs(0, 'ENDSEC')) {\n                break;\n            }\n\n            if(groupIs(0, 'BLOCK')) {\n                log.debug('block {');\n                block = parseBlock();\n                log.debug('}');\n                ensureHandle(block);\n                if(!block.name)\n                    log.error('block with handle \"' + block.handle + '\" is missing a name.');\n                else\n                    blocks[block.name] = block;\n            } else {\n                logUnhandledGroup(curr);\n                curr = scanner.next();\n            }\n        }\n        return blocks;\n    };\n\n    var parseBlock = function() {\n        var block = {};\n        curr = scanner.next();\n\n        while(curr.value !== 'EOF') {\n            switch(curr.code) {\n                case 1:\n                    block.xrefPath = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 2:\n                    block.name = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 3:\n                    block.name2 = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 5:\n                    block.handle = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 8:\n                    block.layer = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 10:\n                    block.position = parsePoint();\n                    curr = scanner.next();\n                    break;\n                case 67:\n                    block.paperSpace = (curr.value && curr.value == 1) ? true : false;\n                    curr = scanner.next();\n                    break;\n                case 70:\n                    if (curr.value != 0) {\n                        //if(curr.value & BLOCK_ANONYMOUS_FLAG) console.log('  Anonymous block');\n                        //if(curr.value & BLOCK_NON_CONSTANT_FLAG) console.log('  Non-constant attributes');\n                        //if(curr.value & BLOCK_XREF_FLAG) console.log('  Is xref');\n                        //if(curr.value & BLOCK_XREF_OVERLAY_FLAG) console.log('  Is xref overlay');\n                        //if(curr.value & BLOCK_EXTERNALLY_DEPENDENT_FLAG) console.log('  Is externally dependent');\n                        //if(curr.value & BLOCK_RESOLVED_OR_DEPENDENT_FLAG) console.log('  Is resolved xref or dependent of an xref');\n                        //if(curr.value & BLOCK_REFERENCED_XREF) console.log('  This definition is a referenced xref');\n                        block.type = curr.value;\n                    }\n                    curr = scanner.next();\n                    break;\n                case 100:\n                    // ignore class markers\n                    curr = scanner.next();\n                    break;\n                case 330:\n                    block.ownerHandle = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 0:\n                    if(curr.value == 'ENDBLK')\n                        break;\n                    block.entities = parseEntities(true);\n                    break;\n                default:\n                    logUnhandledGroup(curr);\n                    curr = scanner.next();\n            }\n\n            if(groupIs(0, 'ENDBLK')) {\n                curr = scanner.next();\n                break;\n            }\n        }\n        return block;\n    };\n\n    /**\n     * parseTables\n     * @return {Object} Object representing tables\n     */\n    var parseTables = function() {\n        var tables = {};\n        curr = scanner.next();\n        while(curr.value !== 'EOF') {\n            if(groupIs(0, 'ENDSEC'))\n                break;\n\n            if(groupIs(0, 'TABLE')) {\n                curr = scanner.next();\n\n                var tableDefinition = tableDefinitions[curr.value];\n                if(tableDefinition) {\n                    log.debug(curr.value + ' Table {');\n                    tables[tableDefinitions[curr.value].tableName] = parseTable();\n                    log.debug('}');\n                } else {\n                    log.debug('Unhandled Table ' + curr.value);\n                }\n            } else {\n                // else ignored\n                curr = scanner.next();\n            }\n        }\n\n        curr = scanner.next();\n        return tables;\n    };\n\n    const END_OF_TABLE_VALUE = 'ENDTAB';\n\n    var parseTable = function() {\n        var tableDefinition = tableDefinitions[curr.value],\n            table = {},\n            expectedCount = 0,\n            actualCount;\n\n        curr = scanner.next();\n        while(!groupIs(0, END_OF_TABLE_VALUE)) {\n\n            switch(curr.code) {\n                case 5:\n                    table.handle = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 330:\n                    table.ownerHandle = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 100:\n                    if(curr.value === 'AcDbSymbolTable') {\n                        // ignore\n                        curr = scanner.next();\n                    }else{\n                        logUnhandledGroup(curr);\n                        curr = scanner.next();\n                    }\n                    break;\n                case 70:\n                    expectedCount = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 0:\n                    if(curr.value === tableDefinition.dxfSymbolName) {\n                        table[tableDefinition.tableRecordsProperty] = tableDefinition.parseTableRecords();\n                    } else {\n                        logUnhandledGroup(curr);\n                        curr = scanner.next();\n                    }\n                    break;\n                default:\n                    logUnhandledGroup(curr);\n                    curr = scanner.next();\n            }\n        }\n        var tableRecords = table[tableDefinition.tableRecordsProperty];\n        if (tableRecords) {\n            if(tableRecords.constructor === Array){\n                actualCount = tableRecords.length;\n            } else if(typeof(tableRecords) === 'object') {\n                actualCount = Object.keys(tableRecords).length;\n            }\n            if(expectedCount !== actualCount) {\n                log.warn(`Parsed ${actualCount} ${tableDefinition.dxfSymbolName}'s but expected ${expectedCount}`);\n            }\n        } else {\n            table[tableDefinition.tableRecordsProperty] = []\n        }\n        curr = scanner.next();\n        return table;\n    };\n\n    var parseViewPortRecords = function() {\n        var viewPorts = [], // Multiple table entries may have the same name indicating a multiple viewport configuration\n            viewPort = {};\n\n        log.debug('ViewPort {');\n        curr = scanner.next();\n        while(!groupIs(0, END_OF_TABLE_VALUE)) {\n\n            switch(curr.code) {\n                case 2: // layer name\n                    viewPort.name = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 10:\n                    viewPort.lowerLeftCorner = parsePoint();\n                    curr = scanner.next();\n                    break;\n                case 11:\n                    viewPort.upperRightCorner = parsePoint();\n                    curr = scanner.next();\n                    break;\n                case 12:\n                    viewPort.center = parsePoint();\n                    curr = scanner.next();\n                    break;\n                case 13:\n                    viewPort.snapBasePoint = parsePoint();\n                    curr = scanner.next();\n                    break;\n                case 14:\n                    viewPort.snapSpacing = parsePoint();\n                    curr = scanner.next();\n                    break;\n                case 15:\n                    viewPort.gridSpacing = parsePoint();\n                    curr = scanner.next();\n                    break;\n                case 16:\n                    viewPort.viewDirectionFromTarget = parsePoint();\n                    curr = scanner.next();\n                    break;\n                case 17:\n                    viewPort.viewTarget = parsePoint();\n                    curr = scanner.next();\n                    break;\n                case 42:\n                    viewPort.lensLength = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 43:\n                    viewPort.frontClippingPlane = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 44:\n                    viewPort.backClippingPlane = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 45:\n                    viewPort.viewHeight = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 50:\n                    viewPort.snapRotationAngle = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 51:\n                    viewPort.viewTwistAngle = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 79:\n                    viewPort.orthographicType = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 110:\n                    viewPort.ucsOrigin = parsePoint();\n                    curr = scanner.next();\n                    break;\n                case 111:\n                    viewPort.ucsXAxis = parsePoint();\n                    curr = scanner.next();\n                    break;\n                case 112:\n                    viewPort.ucsYAxis = parsePoint();\n                    curr = scanner.next();\n                    break;\n                case 110:\n                    viewPort.ucsOrigin = parsePoint();\n                    curr = scanner.next();\n                    break;\n                case 281:\n                    viewPort.renderMode = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 281:\n                    // 0 is one distant light, 1 is two distant lights\n                    viewPort.defaultLightingType = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 292:\n                    viewPort.defaultLightingOn = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 330:\n                    viewPort.ownerHandle = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 63: // These are all ambient color. Perhaps should be a gradient when multiple are set.\n                case 421:\n                case 431:\n                    viewPort.ambientColor = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 0:\n                    // New ViewPort\n                    if(curr.value === 'VPORT') {\n                        log.debug('}');\n                        viewPorts.push(viewPort);\n                        log.debug('ViewPort {');\n                        viewPort = {};\n                        curr = scanner.next();\n                    }\n                    break;\n                default:\n                    logUnhandledGroup(curr);\n                    curr = scanner.next();\n                    break;\n            }\n        }\n        // Note: do not call scanner.next() here,\n        //  parseTable() needs the current group\n        log.debug('}');\n        viewPorts.push(viewPort);\n\n        return viewPorts;\n    };\n\n    var parseLineTypes = function() {\n        var ltypes = {},\n            ltypeName,\n            ltype = {},\n            length;\n\n        log.debug('LType {');\n        curr = scanner.next();\n        while(!groupIs(0, 'ENDTAB')) {\n\n            switch(curr.code) {\n                case 2:\n                    ltype.name = curr.value;\n                    ltypeName = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 3:\n                    ltype.description = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 73: // Number of elements for this line type (dots, dashes, spaces);\n                    length = curr.value;\n                    if(length > 0) ltype.pattern = [];\n                    curr = scanner.next();\n                    break;\n                case 40: // total pattern length\n                    ltype.patternLength = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 49:\n                    ltype.pattern.push(curr.value);\n                    curr = scanner.next();\n                    break;\n                case 0:\n                    log.debug('}');\n                    if (length > 0 && length !== ltype.pattern.length) {\n                        log.warn('lengths do not match on LTYPE pattern');\n                    }\n                    ltypes[ltypeName] = ltype;\n                    ltype = {};\n                    log.debug('LType {');\n                    curr = scanner.next();\n                    break;\n                default:\n                    curr = scanner.next();\n            }\n        }\n\n        log.debug('}');\n        ltypes[ltypeName] = ltype;\n        return ltypes;\n    };\n\n    var parseLayers = function() {\n        var layers = {},\n            layerName,\n            layer = {};\n\n        log.debug('Layer {');\n        curr = scanner.next();\n        while(!groupIs(0, 'ENDTAB')) {\n\n            switch(curr.code) {\n                case 2: // layer name\n                    layer.name = curr.value;\n                    layerName = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 62: // color, visibility\n                    layer.visible = curr.value >= 0;\n                    // TODO 0 and 256 are BYBLOCK and BYLAYER respectively. Need to handle these values for layers?.\n                    layer.colorIndex = Math.abs(curr.value);\n                    layer.color = getAcadColor(layer.colorIndex);\n                    curr = scanner.next();\n                    break;\n                case 70: // frozen layer\n                    layer.frozen = ((curr.value & 1) !== 0 || (curr.value & 2) !== 0);\n                    curr = scanner.next();\n                    break;\n                case 420: // TrueColor Color\n                    layer.color = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 0:\n                    // New Layer\n                    if(curr.value === 'LAYER') {\n                        log.debug('}');\n                        layers[layerName] = layer;\n                        log.debug('Layer {');\n                        layer = {};\n                        layerName = undefined;\n                        curr = scanner.next();\n                    }\n                    break;\n                default:\n                    logUnhandledGroup(curr);\n                    curr = scanner.next();\n                    break;\n            }\n        }\n        // Note: do not call scanner.next() here,\n        //  parseLayerTable() needs the current group\n        log.debug('}');\n        layers[layerName] = layer;\n\n        return layers;\n    };\n\n    var parseDimStyles = function() {\n        var dimStyles = {},\n            styleName,\n            style = {};\n\n        log.debug('DimStyle {');\n        curr = scanner.next();\n        while(!groupIs(0, 'ENDTAB')) {\n\n            if (dimStyleCodes.has(curr.code)) {\n                style[dimStyleCodes.get(curr.code)] = curr.value\n                curr = scanner.next();\n            } else {\n                switch(curr.code) {\n                case 2: // style name\n                    style.name = curr.value;\n                    styleName = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 0:\n                    // New style\n                    if(curr.value === 'DIMSTYLE') {\n                        log.debug('}');\n                        dimStyles[styleName] = style;\n                        log.debug('DimStyle {');\n                        style = {};\n                        styleName = undefined;\n                        curr = scanner.next();\n                    }\n                    break;\n                default:\n                    logUnhandledGroup(curr);\n                    curr = scanner.next();\n                    break;\n                }\n            }\n        }\n        // Note: do not call scanner.next() here,\n        //  parseLayerTable() needs the current group\n        log.debug('}');\n        dimStyles[styleName] = style;\n\n        return dimStyles;\n    };\n\n    var parseStyles = function () {\n        var styles = {};\n        var style = {};\n        var styleName;\n\n        log.debug('Style {');\n        curr = scanner.next();\n        while (!groupIs(0, END_OF_TABLE_VALUE)) {\n            switch (curr.code) {\n                case 100:\n                    style.subClassMarker = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 2:\n                    style.styleName = curr.value;\n                    styleName = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 70:\n                    style.standardFlag = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 40:\n                    style.fixedTextHeight = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 41:\n                    style.widthFactor = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 50:\n                    style.obliqueAngle = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 71:\n                    style.textGenerationFlag = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 42:\n                    style.lastHeight = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 3:\n                    style.font = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 4:\n                    style.bigFont = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 1071:\n                    style.extendedFont = curr.value;\n                    curr = scanner.next();\n                    break;\n                case 0:\n                    if (curr.value === 'STYLE') {\n                        log.debug('}');\n                        styles[styleName] = style;\n                        log.debug('Style {');\n                        style = {};\n                        styleName = undefined;\n                        curr = scanner.next();\n                    }\n                    break;\n                default:\n                    logUnhandledGroup(curr);\n                    curr = scanner.next();\n                    break;\n            }\n        }\n        log.debug('}');\n        styles[styleName] = style;\n        return styles;\n    };\n\n    var tableDefinitions = {\n        VPORT: {\n            tableRecordsProperty: 'viewPorts',\n            tableName: 'viewPort',\n            dxfSymbolName: 'VPORT',\n            parseTableRecords: parseViewPortRecords\n        },\n        LTYPE: {\n            tableRecordsProperty: 'lineTypes',\n            tableName: 'lineType',\n            dxfSymbolName: 'LTYPE',\n            parseTableRecords: parseLineTypes\n        },\n        LAYER: {\n            tableRecordsProperty: 'layers',\n            tableName: 'layer',\n            dxfSymbolName: 'LAYER',\n            parseTableRecords: parseLayers\n        },\n        DIMSTYLE: {\n            tableRecordsProperty: 'dimStyles',\n            tableName: 'dimstyle',\n            dxfSymbolName: 'DIMSTYLE',\n            parseTableRecords: parseDimStyles\n        },\n        STYLE: {\n            tableRecordsProperty: 'styles',\n            tableName: 'style',\n            dxfSymbolName: 'STYLE',\n            parseTableRecords: parseStyles,\n        },\n    };\n\n    /**\n     * Is called after the parser first reads the 0:ENTITIES group. The scanner\n     * should be on the start of the first entity already.\n     * @return {Array} the resulting entities\n     */\n    var parseEntities = function(forBlock) {\n        var entities = [];\n\n        var endingOnValue = forBlock ? 'ENDBLK' : 'ENDSEC';\n\n        if (!forBlock) {\n            curr = scanner.next();\n        }\n        while(true) {\n\n            if(curr.code === 0) {\n                if(curr.value === endingOnValue) {\n                    break;\n                }\n\n                var entity;\n                var handler = self._entityHandlers[curr.value];\n                if (handler != null) {\n                    log.debug(curr.value + ' {');\n                    entity = handler.parseEntity(scanner, curr);\n                    curr = scanner.lastReadGroup;\n                    log.debug('}');\n                } else {\n                    log.warn('Unhandled entity ' + curr.value);\n                    curr = scanner.next();\n                    continue;\n                }\n                ensureHandle(entity);\n                entities.push(entity);\n            } else {\n                // ignored lines from unsupported entity\n                curr = scanner.next();\n            }\n        }\n        if (endingOnValue == 'ENDSEC') {\n            curr = scanner.next(); // swallow up ENDSEC, but not ENDBLK\n        }\n        return entities;\n    };\n\n    /**\n     * Parses a 2D or 3D point, returning it as an object with x, y, and\n     * (sometimes) z property if it is 3D. It is assumed the current group\n     * is x of the point being read in, and scanner.next() will return the\n     * y. The parser will determine if there is a z point automatically.\n     * @return {Object} The 2D or 3D point as an object with x, y[, z]\n     */\n    var parsePoint = function() {\n        var point = {},\n            code = curr.code;\n\n        point.x = curr.value;\n\n        code += 10;\n        curr = scanner.next();\n        if(curr.code != code)\n            throw new Error('Expected code for point value to be ' + code +\n            ' but got ' + curr.code + '.');\n        point.y = curr.value;\n\n        code += 10;\n        curr = scanner.next();\n        if(curr.code != code)\n        {\n            scanner.rewind();\n            return point;\n        }\n        point.z = curr.value;\n\n        return point;\n    };\n\n    var ensureHandle = function(entity) {\n        if (!entity) {\n            throw new TypeError('entity cannot be undefined or null');\n        }\n\n        if (!entity.handle) {\n            entity.handle = lastHandle++;\n        }\n    }\n\n    parseAll();\n    return dxf;\n};\n\nfunction logUnhandledGroup(curr) {\n    log.debug('unhandled group ' + debugCode(curr));\n}\n\n\nfunction debugCode(curr) {\n    return curr.code + ':' + curr.value;\n}\n\n/**\n * Returns the truecolor value of the given AutoCad color index value\n * @return {Number} truecolor value as a number\n */\nfunction getAcadColor(index) {\n    return AUTO_CAD_COLOR_INDEX[index];\n}\n\nconst BLOCK_ANONYMOUS_FLAG = 1;\nconst BLOCK_NON_CONSTANT_FLAG = 2;\nconst BLOCK_XREF_FLAG = 4;\nconst BLOCK_XREF_OVERLAY_FLAG = 8;\nconst BLOCK_EXTERNALLY_DEPENDENT_FLAG = 16;\nconst BLOCK_RESOLVED_OR_DEPENDENT_FLAG = 32;\nconst BLOCK_REFERENCED_XREF = 64;\n\n\n/* Notes */\n// Code 6 of an entity indicates inheritance of properties (eg. color).\n//   BYBLOCK means inherits from block\n//   BYLAYER (default) mean inherits from layer\n"],"mappings":"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"}]}