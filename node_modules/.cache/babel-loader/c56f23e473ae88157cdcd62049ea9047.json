{"remainingRequest":"C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI Projects\\SmartMetrology\\smart-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI Projects\\SmartMetrology\\smart-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI Projects\\SmartMetrology\\smart-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI Projects\\SmartMetrology\\smart-frontend\\src\\components\\PdfReport.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI Projects\\SmartMetrology\\smart-frontend\\src\\components\\PdfReport.vue","mtime":1712137809043},{"path":"C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI Projects\\SmartMetrology\\smart-frontend\\babel.config.js","mtime":1694764762000},{"path":"C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI Projects\\SmartMetrology\\smart-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1704432454000},{"path":"C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI Projects\\SmartMetrology\\smart-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1704432454000},{"path":"C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI Projects\\SmartMetrology\\smart-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1704432454000},{"path":"C:\\Users\\SDC-8\\Desktop\\Sowndarya\\CMTI Projects\\SmartMetrology\\smart-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1704432454000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBbWyJTSS5OTyIsICJOYW1lIiwgIk5vbWluYWwgVmFsdWUiLCAiVXBwZXIgVG9sIiwgIkxvd2VyIFRvbCIsICJNZWFzdXJlZCBWYWx1ZSIsICJEaWZmIiwgIlN0YXR1cyJdLCBbIjIwIiwgIkMgRGlzdGFuY2UgMS0yX1kiXSwgWyIyMSJdLCBbIjIyIl0sIFsiMjEiXSwgWyIyMiJdLCBbIjIxIl0sIFsiMjIiXSwgWyIyMSJdLCBbIjIyIl0sIFsiMjEiXSwgWyIyMiJdXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRvd25sb2FkUERGKCkgewogICAgICBpbXBvcnQoJ2pzcGRmLWF1dG90YWJsZScpLnRoZW4oKHsKICAgICAgICBkZWZhdWx0OiBhdXRvVGFibGUKICAgICAgfSkgPT4gewogICAgICAgIGltcG9ydCgnanNwZGYnKS50aGVuKCh7CiAgICAgICAgICBkZWZhdWx0OiBqc1BERgogICAgICAgIH0pID0+IHsKICAgICAgICAgIGNvbnN0IGRvYyA9IG5ldyBqc1BERigpOwoKICAgICAgICAgIC8vIFRpdGxlCiAgICAgICAgICBkb2MudGV4dCgiUmVwb3J0IiwgMTAsIDEwKTsKICAgICAgICAgIGNvbnN0IHRhYmxlUm93cyA9IFtdOwogICAgICAgICAgY29uc3QgaGVhZGVycyA9IHRoaXMuJHJlZnMucmVwb3J0VGFibGUucXVlcnlTZWxlY3RvckFsbCgndGhlYWQgdGgnKTsKICAgICAgICAgIGNvbnN0IHJvd3MgPSB0aGlzLiRyZWZzLnJlcG9ydFRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3Rib2R5IHRyJyk7CgogICAgICAgICAgLy8gQWRkIGhlYWRlcnMKICAgICAgICAgIGNvbnN0IGhlYWRlclJvdyA9IEFycmF5LmZyb20oaGVhZGVycykubWFwKHRoID0+IHRoLnRleHRDb250ZW50KTsKICAgICAgICAgIHRhYmxlUm93cy5wdXNoKGhlYWRlclJvdyk7CgogICAgICAgICAgLy8gQWRkIHJvd3MKICAgICAgICAgIHJvd3MuZm9yRWFjaChyb3cgPT4gewogICAgICAgICAgICBjb25zdCByb3dEYXRhID0gQXJyYXkuZnJvbShyb3cuY2hpbGRyZW4pLm1hcCh0ZCA9PiB0ZC50ZXh0Q29udGVudCk7CiAgICAgICAgICAgIHRhYmxlUm93cy5wdXNoKHJvd0RhdGEpOwogICAgICAgICAgfSk7CgogICAgICAgICAgLy8gR2VuZXJhdGUgdGFibGUKICAgICAgICAgIGRvYy5hdXRvVGFibGUoewogICAgICAgICAgICBzdGFydFk6IDIwLAogICAgICAgICAgICBoZWFkOiBbaGVhZGVyUm93XSwKICAgICAgICAgICAgYm9keTogdGFibGVSb3dzLnNsaWNlKDEpCiAgICAgICAgICB9KTsKCiAgICAgICAgICAvLyBDb252ZXJ0IGltYWdlIHRvIGJhc2U2NAogICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgICAgICBpbWcuY3Jvc3NPcmlnaW4gPSAiYW5vbnltb3VzIjsgLy8gSGFuZGxlIENPUlMgaXNzdWVzCiAgICAgICAgICBpbWcuc3JjID0gIi4uL3NyYy9hc3NldHMvY210aS5wbmciOyAvLyBDaGFuZ2UgdGhlIHBhdGggdG8gdGhlIGFjdHVhbCBpbWFnZSBmaWxlCiAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDsKICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7CiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBpbWcud2lkdGgsIGltZy5oZWlnaHQpOwogICAgICAgICAgICBjb25zdCBpbWdEYXRhID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7CgogICAgICAgICAgICAvLyBBZGQgaW1hZ2UgaW4gdGhlIGZpcnN0IHJvdydzIGxhc3QgY29sdW1uCiAgICAgICAgICAgIGRvYy5hZGRJbWFnZShpbWdEYXRhLCAnUE5HJywgMjcwLCAxMCwgMTUwLCA3MCk7IC8vIEFkanVzdCB0aGUgcG9zaXRpb24gYW5kIHNpemUgYXMgbmVlZGVkCgogICAgICAgICAgICAvLyBFbnN1cmUgdGhlIGZvdXJ0aCByb3cgaXMgYWx3YXlzIHZpc2libGUKICAgICAgICAgICAgZG9jLnNldFBhZ2UoMSk7CiAgICAgICAgICAgIGRvYy5zYXZlKCdyZXBvcnQucGRmJyk7CiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgZ2VuZXJhdGluZyBQREY6IiwgZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVEYXRhKHJvd0luZGV4LCBjb2xJbmRleCwgdmFsdWUpIHsKICAgICAgaWYgKGNvbEluZGV4ICE9PSAwKSB7CiAgICAgICAgLy8gRXhjbHVkZSBzZXJpYWwgbnVtYmVyIGNvbHVtbgogICAgICAgIHRoaXMuJHNldCh0aGlzLmRhdGFbcm93SW5kZXhdLCBjb2xJbmRleCwgdmFsdWUpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["data","methods","downloadPDF","then","default","autoTable","jsPDF","doc","text","tableRows","headers","$refs","reportTable","querySelectorAll","rows","headerRow","Array","from","map","th","textContent","push","forEach","row","rowData","children","td","startY","head","body","slice","img","Image","crossOrigin","src","onload","canvas","document","createElement","ctx","getContext","width","height","drawImage","imgData","toDataURL","addImage","setPage","save","catch","error","console","updateData","rowIndex","colIndex","value","$set"],"sources":["src/components/PdfReport.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"paper\">\r\n      <table ref=\"reportTable\">\r\n        <thead>\r\n          <tr>\r\n            <th colspan=\"2\" style=\"width: 150px;height:70px;text-align: center; vertical-align: middle; font-size:20px;\">Date-Time</th>\r\n            <th colspan=\"4\" style=\"width: 300px;height:70px;text-align: center; vertical-align: middle;font-size:20px\">CMM Report</th>\r\n            <th colspan=\"4\" style=\"width: 100px;height:70px;\"><img src=\"@/assets/images/cmti.png\" alt=\"Logo\" class=\"Logo\" height=\"70\" width=\"150\" /></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          \r\n          <tr>\r\n            <td colspan=\"2\" style=\"width: 150px;height:50px;text-align: center; vertical-align: middle;\"><b>INSPECTION REPORT NUMBER</b></td>\r\n            <td colspan=\"2\" style=\"width: 300px;height:50px;text-align: center; vertical-align: middle;font-size:20px\"></td>\r\n            <td colspan=\"2\" style=\"width: 100px;height:50px;text-align: center; vertical-align: middle;\"><b>PROJECT NAME</b></td>\r\n            <td colspan=\"1\" style=\"width: 90px;height:10px\">VM4.5T III</td>\r\n            <td colspan=\"1\" style=\"width: 90px;height:10px\">PAGE 2 OF 4 </td>\r\n          </tr>\r\n          <tr>\r\n            <td colspan=\"2\" style=\"width: 150px;height:50px;text-align: center; vertical-align: middle;\"><b>PROJECT MANAGER</b></td>\r\n            <td colspan=\"2\" style=\"width: 300px;height:50px;text-align: center; vertical-align: middle;\">181100200101</td>\r\n            <td colspan=\"1\" style=\"width: 100px;height:50px;text-align: center; vertical-align: middle;\">GROUP</td>\r\n            <td colspan=\"3\" style=\"width: 100px;height:50px;text-align: center; vertical-align: middle;\">B&C Assy</td>\r\n          </tr>\r\n          <tr>\r\n            <td colspan=\"0\" style=\"width: 150px;height:50px;text-align: center; vertical-align: middle; \">PART NUMBER</td>\r\n            <td colspan=\"3\" style=\"width: 300px;height:50px;text-align: center; vertical-align: middle;\"></td>\r\n            <td colspan=\"2\" style=\"width: 100px;height:50px;text-align: center; vertical-align: middle;\">PART NAME</td>\r\n            <td colspan=\"2\" style=\"width: 90px;height:10px\"></td>\r\n          </tr>\r\n          <tr v-for=\"(row, rowIndex) in data.slice(0, 10)\" :key=\"rowIndex\">\r\n            <td>{{ row[0] }}</td> <!-- Serial number -->\r\n            <td>\r\n              <input type=\"text\" v-model=\"row[1]\" @input=\"updateData(rowIndex, 1, $event.target.value)\" style=\"width: 80px\">\r\n            </td>\r\n            <td>\r\n              <input type=\"text\" v-model=\"row[2]\" @input=\"updateData(rowIndex, 2, $event.target.value)\" style=\"width: 80px\">\r\n            </td>\r\n            <!-- Additional columns -->\r\n            <td>\r\n              <input type=\"text\" v-model=\"row[3]\" @input=\"updateData(rowIndex, 3, $event.target.value)\" style=\"width: 70px\">\r\n            </td>\r\n            <td>\r\n              <input type=\"text\" v-model=\"row[4]\" @input=\"updateData(rowIndex, 4, $event.target.value)\" style=\"width: 70px\">\r\n            </td>\r\n            <td>\r\n              <input type=\"text\" v-model=\"row[5]\" @input=\"updateData(rowIndex, 5, $event.target.value)\" style=\"width: 70px\">\r\n            </td>\r\n            <td>\r\n              <input type=\"text\" v-model=\"row[6]\" @input=\"updateData(rowIndex, 6, $event.target.value)\" style=\"width: 70px\">\r\n            </td>\r\n            <td>\r\n              <input type=\"text\" v-model=\"row[7]\" @input=\"updateData(rowIndex, 7, $event.target.value)\" style=\"width: 70px\">\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <button class=\"green-button\" @click=\"downloadPDF\">Download PDF</button>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      data: [\r\n        [\"SI.NO\", \"Name\", \"Nominal Value\", \"Upper Tol\", \"Lower Tol\", \"Measured Value\", \"Diff\", \"Status\"],\r\n        [\"20\", \"C Distance 1-2_Y\"],\r\n        [\"21\"],\r\n        [\"22\"],\r\n        [\"21\"],\r\n        [\"22\"],\r\n        [\"21\"],\r\n        [\"22\"],\r\n        [\"21\"],\r\n        [\"22\"],\r\n        [\"21\"],\r\n        [\"22\"],\r\n      ]\r\n    };\r\n  },\r\n  methods: {\r\n    downloadPDF() {\r\n  import('jspdf-autotable')\r\n    .then(({ default: autoTable }) => {\r\n      import('jspdf').then(({ default: jsPDF }) => {\r\n        const doc = new jsPDF();\r\n\r\n        // Title\r\n        doc.text(\"Report\", 10, 10);\r\n\r\n        const tableRows = [];\r\n        const headers = this.$refs.reportTable.querySelectorAll('thead th');\r\n        const rows = this.$refs.reportTable.querySelectorAll('tbody tr');\r\n\r\n        // Add headers\r\n        const headerRow = Array.from(headers).map(th => th.textContent);\r\n        tableRows.push(headerRow);\r\n\r\n        // Add rows\r\n        rows.forEach(row => {\r\n          const rowData = Array.from(row.children).map(td => td.textContent);\r\n          tableRows.push(rowData);\r\n        });\r\n\r\n        // Generate table\r\n        doc.autoTable({\r\n          startY: 20,\r\n          head: [headerRow],\r\n          body: tableRows.slice(1)\r\n        });\r\n\r\n        // Convert image to base64\r\n        const img = new Image();\r\n        img.crossOrigin = \"anonymous\"; // Handle CORS issues\r\n        img.src = \"../src/assets/cmti.png\"; // Change the path to the actual image file\r\n        img.onload = function () {\r\n          const canvas = document.createElement('canvas');\r\n          const ctx = canvas.getContext('2d');\r\n          canvas.width = img.width;\r\n          canvas.height = img.height;\r\n          ctx.drawImage(img, 0, 0, img.width, img.height);\r\n          const imgData = canvas.toDataURL('image/png');\r\n\r\n          // Add image in the first row's last column\r\n          doc.addImage(imgData, 'PNG', 270, 10, 150, 70); // Adjust the position and size as needed\r\n\r\n          // Ensure the fourth row is always visible\r\n          doc.setPage(1);\r\n\r\n          doc.save('report.pdf');\r\n        };\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error generating PDF:\", error);\r\n    });\r\n},\r\n\r\n\r\n\r\n    updateData(rowIndex, colIndex, value) {\r\n      if (colIndex !== 0) { // Exclude serial number column\r\n        this.$set(this.data[rowIndex], colIndex, value);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.container {\r\n  height: 900px;\r\n  max-width: 1000px; /* Adjust as needed */\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.paper {\r\n  width: 100%;\r\n  height: auto;\r\n  overflow-x: auto; /* Enable horizontal scrolling if the table exceeds the width */\r\n}\r\n\r\ntable {\r\n  border-collapse: collapse;\r\n  width: 900px; /* Adjust as needed */\r\n}\r\n\r\nth, td {\r\n  border: 2px solid black;\r\n  padding: 2px;\r\n  text-align: left;\r\n  word-wrap: break-word; /* Ensure long text wraps within cells */\r\n}\r\n\r\nth {\r\n  background-color: #f2f2f2;\r\n}\r\n\r\ninput[type=\"text\"] {\r\n  width: 60px; /* Adjust as needed */\r\n  border: none;\r\n  outline: none;\r\n}\r\n\r\nbutton.green-button {\r\n  background-color: green;\r\n  height: 50px;\r\n  width: 180px; /* Adjust width as needed */\r\n  border: none;\r\n  color: white;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  margin: 10px;\r\n}\r\n</style>\r\n"],"mappings":"AAgEA;EACAA,KAAA;IACA;MACAA,IAAA,GACA,kGACA,4BACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA;IAEA;EACA;EACAC,OAAA;IACAC,YAAA;MACA,0BACAC,IAAA;QAAAC,OAAA,EAAAC;MAAA;QACA,gBAAAF,IAAA;UAAAC,OAAA,EAAAE;QAAA;UACA,MAAAC,GAAA,OAAAD,KAAA;;UAEA;UACAC,GAAA,CAAAC,IAAA;UAEA,MAAAC,SAAA;UACA,MAAAC,OAAA,QAAAC,KAAA,CAAAC,WAAA,CAAAC,gBAAA;UACA,MAAAC,IAAA,QAAAH,KAAA,CAAAC,WAAA,CAAAC,gBAAA;;UAEA;UACA,MAAAE,SAAA,GAAAC,KAAA,CAAAC,IAAA,CAAAP,OAAA,EAAAQ,GAAA,CAAAC,EAAA,IAAAA,EAAA,CAAAC,WAAA;UACAX,SAAA,CAAAY,IAAA,CAAAN,SAAA;;UAEA;UACAD,IAAA,CAAAQ,OAAA,CAAAC,GAAA;YACA,MAAAC,OAAA,GAAAR,KAAA,CAAAC,IAAA,CAAAM,GAAA,CAAAE,QAAA,EAAAP,GAAA,CAAAQ,EAAA,IAAAA,EAAA,CAAAN,WAAA;YACAX,SAAA,CAAAY,IAAA,CAAAG,OAAA;UACA;;UAEA;UACAjB,GAAA,CAAAF,SAAA;YACAsB,MAAA;YACAC,IAAA,GAAAb,SAAA;YACAc,IAAA,EAAApB,SAAA,CAAAqB,KAAA;UACA;;UAEA;UACA,MAAAC,GAAA,OAAAC,KAAA;UACAD,GAAA,CAAAE,WAAA;UACAF,GAAA,CAAAG,GAAA;UACAH,GAAA,CAAAI,MAAA;YACA,MAAAC,MAAA,GAAAC,QAAA,CAAAC,aAAA;YACA,MAAAC,GAAA,GAAAH,MAAA,CAAAI,UAAA;YACAJ,MAAA,CAAAK,KAAA,GAAAV,GAAA,CAAAU,KAAA;YACAL,MAAA,CAAAM,MAAA,GAAAX,GAAA,CAAAW,MAAA;YACAH,GAAA,CAAAI,SAAA,CAAAZ,GAAA,QAAAA,GAAA,CAAAU,KAAA,EAAAV,GAAA,CAAAW,MAAA;YACA,MAAAE,OAAA,GAAAR,MAAA,CAAAS,SAAA;;YAEA;YACAtC,GAAA,CAAAuC,QAAA,CAAAF,OAAA;;YAEA;YACArC,GAAA,CAAAwC,OAAA;YAEAxC,GAAA,CAAAyC,IAAA;UACA;QACA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,0BAAAA,KAAA;MACA;IACA;IAIAE,WAAAC,QAAA,EAAAC,QAAA,EAAAC,KAAA;MACA,IAAAD,QAAA;QAAA;QACA,KAAAE,IAAA,MAAAxD,IAAA,CAAAqD,QAAA,GAAAC,QAAA,EAAAC,KAAA;MACA;IACA;EACA;AACA"}]}